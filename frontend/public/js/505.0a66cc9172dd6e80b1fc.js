"use strict";(self.webpackChunkfront=self.webpackChunkfront||[]).push([[505],{53035:function(e,r,t){var n=t(11817),o=t(67294),a=t(18778),c=t(81578);function u(e,r){return function(e){if(Array.isArray(e))return e}(e)||function(e,r){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var n,o,a,c,u=[],i=!0,s=!1;try{if(a=(t=t.call(e)).next,0===r){if(Object(t)!==t)return;i=!1}else for(;!(i=(n=a.call(t)).done)&&(u.push(n.value),u.length!==r);i=!0);}catch(e){s=!0,o=e}finally{try{if(!i&&null!=t.return&&(c=t.return(),Object(c)!==c))return}finally{if(s)throw o}}return u}}(e,r)||function(e,r){if(e){if("string"==typeof e)return i(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?i(e,r):void 0}}(e,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(e,r){(null==r||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}r.Z=function(){var e=function(){var e=localStorage.getItem("token"),r="";return"undefined"!==e&&e&&(r=e),r},r=u((0,o.useState)(e()),2),t=r[0],i=r[1],s=(0,o.useState)(function(){var e=localStorage.getItem("user"),r="";return"undefined"!==e&&(r=JSON.parse(e)),r}()),l=u(s,2),f=l[0],d=l[1];return{setToken:function(e,r){localStorage.setItem("token",JSON.stringify(r)),localStorage.setItem("user",JSON.stringify(e)),i(r),d(e),a.h.dispatch((0,c.M)(e))},token:t,user:f,getToken:e,api:n.Z.create({baseURL:"/api"}),logout:function(){localStorage.clear(),window.location.href="/login"},setUser:function(e){localStorage.setItem("user",JSON.stringify(e)),d(e),a.h.dispatch((0,c.M)(e))}}}},94099:function(e,r,t){t.d(r,{_:function(){return o}});var n=t(11817),o="/api",a=n.Z.create({baseURL:o});a.interceptors.request.use((function(e){var r=localStorage.getItem("token");return e.headers={Authorization:"Bearer ".concat(r.replace('"',"")),Accept:"application/json"},e})),a.interceptors.response.use((function(e){return e}),(function(e){return e.response&&401===e.response.status&&e.response.config.url!==o+"/login"&&(localStorage.clear(),window.location.href="/login"),Promise.reject(e)})),a.interceptors.response.use((function(e){return e}),(function(e){return!e.response||401!==e.response.status||e.response.config&&e.response.config.url===o+"/login"||(localStorage.clear(),window.location.href="/login"),Promise.reject(e)})),r.Z=a},77505:function(e,r,t){t.r(r),t.d(r,{default:function(){return i}});var n=t(95187),o=t(89250),a=t(53035),c=t(94099),u=t(85893),i=function(e){var r=e.notify,t=(0,o.s0)(),i=(0,a.Z)().logout;return(0,u.jsxs)("div",{children:[(0,u.jsx)("div",{style:{color:"#fff"},children:"Você tem certeza que deseja excluir sua conta e seus dados?"}),(0,u.jsx)(n.ZP,{onClick:function(){return t(-1)},type:"primary",children:"Não"}),(0,u.jsx)(n.ZP,{onClick:function(){!function(e,r){c.Z.post("/user/delete").then((function(r){"success"==r.data.status?(r.data.data,i()):(console.log("erro carregar peso",r.data),e("error","Erro","Ocorreu um erro ao encontrar seus dados. Tente novamente mais tarde."))})).catch((function(r){console.log("erro carregar peso",r),e("error","Erro","Ocorreu um erro ao encontrar seus dados. Tente novamente mais tarde.")}))}(r)},children:"Sim"})]})}},81578:function(e,r,t){t.d(r,{M:function(){return n}});function n(e){return{type:"SETUSER",user:e}}}}]);