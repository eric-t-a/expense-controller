"use strict";(self.webpackChunkfront=self.webpackChunkfront||[]).push([[522],{53035:function(e,n,r){var t=r(11817),o=r(67294),i=r(18778),a=r(81578);function l(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var t,o,i,a,l=[],u=!0,c=!1;try{if(i=(r=r.call(e)).next,0===n){if(Object(r)!==r)return;u=!1}else for(;!(u=(t=i.call(r)).done)&&(l.push(t.value),l.length!==n);u=!0);}catch(e){c=!0,o=e}finally{try{if(!u&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw o}}return l}}(e,n)||function(e,n){if(e){if("string"==typeof e)return u(e,n);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?u(e,n):void 0}}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function u(e,n){(null==n||n>e.length)&&(n=e.length);for(var r=0,t=new Array(n);r<n;r++)t[r]=e[r];return t}n.Z=function(){var e=function(){var e=localStorage.getItem("token"),n="";return"undefined"!==e&&e&&(n=e),n},n=l((0,o.useState)(e()),2),r=n[0],u=n[1],c=(0,o.useState)(function(){var e=localStorage.getItem("user"),n="";return"undefined"!==e&&(n=JSON.parse(e)),n}()),s=l(c,2),f=s[0],p=s[1];return{setToken:function(e,n){localStorage.setItem("token",JSON.stringify(n)),localStorage.setItem("user",JSON.stringify(e)),u(n),p(e),i.h.dispatch((0,a.M)(e))},token:r,user:f,getToken:e,api:t.Z.create({baseURL:"/api"}),logout:function(){localStorage.clear(),window.location.href="/login"},setUser:function(e){localStorage.setItem("user",JSON.stringify(e)),p(e),i.h.dispatch((0,a.M)(e))}}}},94099:function(e,n,r){r.d(n,{_:function(){return o}});var t=r(11817),o="/api",i=t.Z.create({baseURL:o});i.interceptors.request.use((function(e){var n=localStorage.getItem("token");return e.headers={Authorization:"Bearer ".concat(n.replace('"',"")),Accept:"application/json"},e})),i.interceptors.response.use((function(e){return e}),(function(e){return e.response&&401===e.response.status&&e.response.config.url!==o+"/login"&&(localStorage.clear(),window.location.href="/login"),Promise.reject(e)})),i.interceptors.response.use((function(e){return e}),(function(e){return!e.response||401!==e.response.status||e.response.config&&e.response.config.url===o+"/login"||(localStorage.clear(),window.location.href="/login"),Promise.reject(e)})),n.Z=i},65969:function(e,n,r){r.d(n,{EW:function(){return a},Ih:function(){return i},O5:function(){return u},Q6:function(){return o},ek:function(){return c},er:function(){return t},ix:function(){return l},s3:function(){return s},zh:function(){return f}});var t="#d89614",o="#dc4446",i="#eae9e6",a="#f2f1ef",l="#64605d",u="#64605d",c="#49aa19",s="#4a6da7",f="#2d4e76"},27522:function(e,n,r){r.r(n),r.d(n,{default:function(){return v}});var t,o,i=r(53576),a=r(21865),l=r(95187),u=r(67294),c=r(94099),s=r(7085),f=r(89250),p=r(53035),d=r(15286),m=r(65969),h=r(85893);function g(e,n){return n||(n=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(n)}}))}var y=d.ZP.div(t||(t=g(["\n    width: 180px;\n    height: 43px;\n    margin: auto;\n    background-color: ",";\n    font-size: 20px;\n    line-height: 43px;\n    border-radius: 8px;\n    padding: 0px 10px;\n    color: ",";\n    display: flex;\n    flex-direction: row;\n    justify-content: space-between;\n    cursor: pointer;\n    transition: all 0.2s;\n\n    &:hover{\n        background-color: ",";\n    }\n\n    &:active{\n        background-color: ",";\n    }\n\n"])),m.s3,m.ix,m.zh,m.zh),b=(d.ZP.div(o||(o=g(["\n    width: 180px;\n    height: 43px;\n    margin: auto;\n    background-color: ",";\n    font-size: 20px;\n    line-height: 43px;\n    border-radius: 8px;\n    padding: 0px 10px;\n    color: ",";\n    display: flex;\n    flex-direction: row;\n    justify-content: space-between;\n    cursor: pointer;\n    transition: all 0.2s;\n\n    &:hover{\n        background-color: ",";\n    }\n\n    &:active{\n        background-color: ",";\n    }\n\n"])),m.Ih,m.s3,m.EW,m.EW),function(e){var n=e.styles,r=e.onClick,t=e.children,o=e.classes,i=e.disabled;return(0,h.jsx)(y,{style:n,onClick:r,className:o,disabled:i,children:t})});function x(e,n){(null==n||n>e.length)&&(n=e.length);for(var r=0,t=new Array(n);r<n;r++)t[r]=e[r];return t}var v=function(e){var n,r,t=e.notify,o=(0,p.Z)(),d=o.token,g=o.setToken,y=o.user,v=(0,f.s0)(),j=(n=(0,u.useState)(!1),r=2,function(e){if(Array.isArray(e))return e}(n)||function(e,n){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var t,o,i,a,l=[],u=!0,c=!1;try{if(i=(r=r.call(e)).next,0===n){if(Object(r)!==r)return;u=!1}else for(;!(u=(t=i.call(r)).done)&&(l.push(t.value),l.length!==n);u=!0);}catch(e){c=!0,o=e}finally{try{if(!u&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw o}}return l}}(n,r)||function(e,n){if(e){if("string"==typeof e)return x(e,n);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?x(e,n):void 0}}(n,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),S=j[0],w=j[1];return(0,h.jsxs)("div",{children:[(0,h.jsxs)(i.Z,{name:"basic",labelCol:{span:8},wrapperCol:{span:16},style:{maxWidth:600},initialValues:{full_name:y.full_name,email:y.email,cpf:y.cpf},onFinish:function(e){w(!0),c.Z.post("/user/update",{full_name:e.full_name,email:e.email,cpf:e.cpf}).then((function(e){w(!1),g(e.data.user,d),t("success","Sucesso","Suas informações foram atualizadas com sucesso!")})).catch((function(e){console.log("erro logando",e),t("error","Erro","Ocorreu um erro ao fazer login. Tente novamente mais tarde."),w(!1)}))},autoComplete:"off",children:[(0,h.jsx)(i.Z.Item,{label:"Nome completo",name:"full_name",rules:[{required:!0,message:"Insira seu nome completo"}],children:(0,h.jsx)(a.Z,{})}),(0,h.jsx)(i.Z.Item,{label:"Email",name:"email",rules:[{required:!0,message:"Insira um email válido",type:"email"}],children:(0,h.jsx)(a.Z,{})}),(0,h.jsx)(i.Z.Item,{label:"CPF",name:"cpf",children:(0,h.jsx)(a.Z,{})}),(0,h.jsx)(i.Z.Item,{wrapperCol:{offset:8,span:16},children:(0,h.jsx)(l.ZP,{style:{color:m.s3},htmlType:"submit",children:S?(0,h.jsx)(s.Z,{style:{fontSize:24},spin:!0}):"Atualizar"})})]}),(0,h.jsx)("div",{style:{width:"fit-content",marginLeft:"auto",marginRight:"auto",marginBottom:"10px",marginTop:"40px"},children:y.email?"":1==y.user_level_id?(0,h.jsx)(b,{onClick:function(){return v("/app/user/config/plans")},styles:{justifyContent:"center",fontWeight:"600",fontSize:"20px"},type:"primary",children:"Fazer Upgrade"}):(0,h.jsx)(l.ZP,{style:{color:m.s3},onClick:function(){return v("/app/user/config/plans")},children:"Mudar de plano"})})]})}},81578:function(e,n,r){r.d(n,{M:function(){return t}});function t(e){return{type:"SETUSER",user:e}}}}]);