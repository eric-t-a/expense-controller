"use strict";(self.webpackChunkfront=self.webpackChunkfront||[]).push([[101],{94099:function(e,r,t){t.d(r,{_:function(){return i}});var n,o=t(11817),i="".concat(null!==(n=window.appUrl)&&void 0!==n?n:"http://localhost:8000","/api"),a=o.Z.create({baseURL:i});a.interceptors.request.use((function(e){var r=localStorage.getItem("token");return e.headers={Authorization:"Bearer ".concat(r.replace('"',"")),Accept:"application/json"},e})),a.interceptors.response.use((function(e){return e}),(function(e){return e.response&&401===e.response.status&&e.response.config.url!==i+"/login"&&(localStorage.clear(),window.location.href="/login"),Promise.reject(e)})),a.interceptors.response.use((function(e){return e}),(function(e){return!e.response||401!==e.response.status||e.response.config&&e.response.config.url===i+"/login"||(localStorage.clear(),window.location.href="/login"),Promise.reject(e)})),r.Z=a},65969:function(e,r,t){t.d(r,{EW:function(){return a},Ih:function(){return i},O5:function(){return c},Q6:function(){return o},ek:function(){return s},er:function(){return n},ix:function(){return l},s3:function(){return u},zh:function(){return f}});var n="#d89614",o="#dc4446",i="#eae9e6",a="#f2f1ef",l="#64605d",c="#64605d",s="#49aa19",u="#4a6da7",f="#2d4e76"},83560:function(e,r,t){var n=t(7085),o=t(85893);r.Z=function(e){return function(e){if(null==e)throw new TypeError("Cannot destructure "+e)}(e),(0,o.jsx)(n.Z,{className:"white-text",spin:!0})}},84101:function(e,r,t){t.r(r),t.d(r,{default:function(){return ce}});var n=t(67294),o=t(18778),i=t(94099);function a(e){return{type:"SETWEIGHTS",all:e}}function l(e){return l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},l(e)}function c(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,n)}return t}function s(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?c(Object(t),!0).forEach((function(r){u(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):c(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}function u(e,r,t){return r=function(e){var r=function(e,r){if("object"!==l(e)||null===e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!==l(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===l(r)?r:String(r)}(r),r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function f(e){return function(e){if(Array.isArray(e))return d(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,r){if(e){if("string"==typeof e)return d(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?d(e,r):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function d(e,r){(null==r||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}var p,h,m,y,g,v=t(95998),b=t(15286),x=t(65969);function j(e,r){return r||(r=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(r)}}))}var w=b.ZP.div(p||(p=j(["\n    display: flex;\n    justify-content: center;\n\n    .weight-table{\n        background-color: ",";\n        padding: 10px;\n        border-radius: 8px;\n        width: 100%;\n        max-width: 300px;\n\n        .weight-row{\n            display: flex;\n            flex-direction: row;\n            flex-wrap: no-wrap;\n            padding: 7px;\n            transition: .25s all;\n            &:hover{\n                * {\n                    color: "," !important;\n                }\n            }\n            &:nth-child(even){\n                background-color: ",";\n            }\n\n            .weight-col{\n                color: ",";\n                flex: 1;\n                text-align: center;\n                font-size: 18px;\n                transition: .25s all;\n            }\n            \n            .date-col{\n                color: ",";\n                flex: 1;\n                text-align: center;\n                font-size: 18px;\n                transition: .25s all;\n            }\n\n            .edit-col{\n                flex: 0.5;\n                text-align: center;\n\n                svg{\n                    cursor: pointer;\n                    font-size: 18px;\n                    color: ",";\n                    transition: .25s all;\n                }\n            }\n\n            .delete-col{\n                flex: 0.5;\n                text-align: center;\n\n                svg{\n                    cursor: pointer;\n                    font-size: 18px;\n                    color: ",";\n                    transition: .25s all;\n                }\n            }\n        }\n    }\n"])),x.Ih,x.ix,x.EW,x.O5,x.O5,x.er,x.Q6),O=b.ZP.div(h||(h=j(["\n    background-color: ",";\n    padding: 5px;\n    border-radius: 8px;\n    width: 170px;\n\n    .tool-tip-row{\n        display: flex;\n        padding: 5px;\n\n        .col{\n            font-size: 14px;\n            flex: 1;\n            text-align: center;\n            color: ",";\n        }\n    }\n"])),x.Ih,x.O5),S=b.ZP.div(m||(m=j(["\n\n    height: ",";\n    width: calc(100% - 100px);\n    margin: auto;\n    margin-bottom: ",";\n    margin-top: 10px;\n    font-size: 12px;\n    transition: all 0.2s;\n    overflow-x: auto;\n    overflow-y: hidden;\n    display: flex;\n    justify-content: center;\n\n    .tick-holder{\n        position: absolute;\n        z-index: 1;\n\n        .tick{\n            color: ",";\n            margin-top: 60px;\n        }\n    }\n    @media screen and (max-width: 700px) {\n        width: 100%;\n        justify-content: flex-start;\n    }\n"])),(function(e){return e.show?"300px":"0"}),(function(e){return e.show?"30px":"0"}),x.O5),P=b.ZP.div(y||(y=j(["\n    background-color: ",";\n    border-radius: 8px;\n    font-size: 20px;\n    margin: 10px auto;\n    transition: .25s all;\n    cursor: pointer;\n    color: ",";\n    text-align: center;\n    padding: 10px 0px;\n    max-width: 300px;\n\n    &:hover{\n        background-color: ",";\n    }\n"])),x.EW,x.er,x.s3),A=b.ZP.div(g||(g=j(["\n    color: rgba(255, 255, 255, 0.8);\n    font-size: 18px;\n    width: 300px;\n    margin: auto auto 30px;\n    text-align: center;\n"]))),k=t(8212),E=t(1870),Z=t(73171),I=t(83560),z=t(57564),D=t(85893);function T(e,r){(null==r||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}var N=function(e){var r,t,l=e.setToEdit,c=e.notify,u=(0,v.v9)((function(e){return e.weight.all})),d=(r=(0,n.useState)(null),t=2,function(e){if(Array.isArray(e))return e}(r)||function(e,r){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var n,o,i,a,l=[],c=!0,s=!1;try{if(i=(t=t.call(e)).next,0===r){if(Object(t)!==t)return;c=!1}else for(;!(c=(n=i.call(t)).done)&&(l.push(n.value),l.length!==r);c=!0);}catch(e){s=!0,o=e}finally{try{if(!c&&null!=t.return&&(a=t.return(),Object(a)!==a))return}finally{if(s)throw o}}return l}}(r,t)||function(e,r){if(e){if("string"==typeof e)return T(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?T(e,r):void 0}}(r,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),p=d[0],h=d[1];return(0,D.jsx)(w,{children:(0,D.jsx)("div",{className:"weight-table",children:u.map((function(e){return(0,D.jsxs)("div",{className:"weight-row",children:[(0,D.jsx)("div",{className:"weight-col"}),(0,D.jsx)("div",{className:"date-col"}),(0,D.jsx)("div",{className:"edit-col",children:(0,D.jsx)(k.Z,{onClick:function(){return l(e)}})}),(0,D.jsx)("div",{className:"delete-col",children:(0,D.jsx)(z.Z,{title:"Excluir",description:"Tem certeza que deseja excluir?",icon:(0,D.jsx)(E.Z,{style:{color:x.Q6}}),onConfirm:function(){return r=e.id,h(r),void function(e,r,t){i.Z.post("/weight/delete",s({},r)).then((function(r){if("success"==r.data.status){var n=r.data.data;o.h.dispatch(a(f(n))),t()}else o.h.dispatch(a([])),console.log("erro carregar peso",r.data),e("error","Erro","Ocorreu um erro ao excluir esse peso. Tente novamente mais tarde."),t()})).catch((function(r){o.h.dispatch(a([])),console.log("erro carregar peso",r),e("error","Erro","Ocorreu um erro ao excluir esse peso. Tente novamente mais tarde."),t()}))}(c,{id:r},(function(){h(null)}));var r},children:p==e.id?(0,D.jsx)(I.Z,{}):(0,D.jsx)(Z.Z,{})})})]},e.id)}))})})},C=t(84575),M=t(14195),Y=t(3023),F=t(75358),_=t(99307),U=t(56880);function q(e){return q="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},q(e)}function V(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,n)}return t}function W(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?V(Object(t),!0).forEach((function(r){$(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):V(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}function $(e,r,t){return r=function(e){var r=function(e,r){if("object"!==q(e)||null===e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!==q(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===q(r)?r:String(r)}(r),r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var R=function(){var e=(0,v.v9)((function(e){return e.weight.all}));(0,n.useEffect)((function(){var e=document.getElementById("scrollable-ref");e&&e.scrollIntoView({behavior:"smooth",inline:"end"})}),[]);var r=9999,t=0,o=e.map((function(e){return parseFloat(e.weight)>t&&(t=parseFloat(e.weight)),parseFloat(e.weight)<r&&(r=parseFloat(e.weight)),W(W({},e),{},{measure_date:Date.parse(e.measure_date)})}));t=Math.ceil(t)+1,r=Math.floor(r)-1;for(var i=0,a=0;a<100;a++)if((t-r)%3!=0&&a%2==0)t+=1;else{if((t-r)%3==0||a%2!=1){i=(t-r)/3;break}r-=1}var l=function(e){var r=e.active,t=e.payload;return e.label,r&&t&&t.length?(t[0],(0,D.jsxs)(O,{children:[(0,D.jsxs)("div",{className:"tool-tip-row",children:[(0,D.jsx)("div",{className:"col",children:"Peso:"}),(0,D.jsx)("div",{className:"col"})]}),(0,D.jsxs)("div",{className:"tool-tip-row",children:[(0,D.jsx)("div",{className:"col",children:"Data:"}),(0,D.jsx)("div",{className:"col"})]})]})):null};return(0,D.jsx)(S,{show:!0,children:(0,D.jsxs)("div",{children:[(0,D.jsxs)("div",{className:"tick-holder",children:[(0,D.jsx)("div",{className:"tick",style:{marginTop:"1px"},children:r+3*i}),(0,D.jsx)("div",{className:"tick",children:r+2*i}),(0,D.jsx)("div",{className:"tick",children:r+i}),(0,D.jsx)("div",{className:"tick",children:r})]}),(0,D.jsxs)(C.w,{width:500,height:300,data:o,margin:{top:20,right:30,left:20,bottom:5},id:"scrollable-ref",children:[(0,D.jsx)(M.q,{strokeDasharray:"3 3"}),(0,D.jsx)(Y.K,{dataKey:"measure_date",angle:30,textAnchor:"initial",height:50,tickCount:4,tickFormatter:function(){},type:"number",domain:["auto","auto"]}),(0,D.jsx)(F.B,{height:50,tickCount:4,type:"number",domain:["auto","auto"],mirror:!0,tick:(0,D.jsx)(D.Fragment,{}),ticks:[r,r+i,r+2*i,r+3*i]}),(0,D.jsx)(_.u,{content:(0,D.jsx)(l,{}),cursor:{fill:"transparent"}}),(0,D.jsx)(U.x,{type:"monotone",dataKey:"weight",stroke:x.er,activeDot:{r:8},strokeWidth:3})]})]})})},B=t(7623),K=t(53576),Q=t(21865),G=t(85492),H=t(95187),L=t(27484),J=t.n(L),X=t(70178),ee=t.n(X),re=t(29387),te=t.n(re);function ne(e,r){(null==r||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}J().extend(ee()),J().extend(te()),J().tz.setDefault("America/Sao_Paulo");var oe=function(e){var r,t,l=e.notify,c=e.open,u=e.setModalOpen,d=e.formRef,p=(r=(0,n.useState)(!1),t=2,function(e){if(Array.isArray(e))return e}(r)||function(e,r){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var n,o,i,a,l=[],c=!0,s=!1;try{if(i=(t=t.call(e)).next,0===r){if(Object(t)!==t)return;c=!1}else for(;!(c=(n=i.call(t)).done)&&(l.push(n.value),l.length!==r);c=!0);}catch(e){s=!0,o=e}finally{try{if(!c&&null!=t.return&&(a=t.return(),Object(a)!==a))return}finally{if(s)throw o}}return l}}(r,t)||function(e,r){if(e){if("string"==typeof e)return ne(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?ne(e,r):void 0}}(r,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),h=p[0],m=p[1];return(0,n.useEffect)((function(){var e,r,t;c&&c.id?null===(e=d.current)||void 0===e||e.setFieldValue("measure_date",J()(c.measure_date,"YYYY-MM-DD")):(null===(r=d.current)||void 0===r||r.setFieldValue("measure_date",J().tz()),null===(t=d.current)||void 0===t||t.setFieldValue("weight",null))}),[c]),(0,D.jsx)("div",{children:(0,D.jsx)(B.Z,{footer:[],open:!!c,onCancel:function(){return u(!1)},title:c&&0==c.id?"Atualizar peso":"Editar peso",children:(0,D.jsxs)(K.Z,{ref:d,onFinish:function(e){m(!0),function(e,r,t){i.Z.post("/weight/edit",s({},r)).then((function(r){if("success"==r.data.status){var n=r.data.data;o.h.dispatch(a(f(n))),t()}else o.h.dispatch(a([])),console.log("erro carregar peso",r.data),e("error","Erro","Ocorreu um erro ao atualizar seu peso. Tente novamente mais tarde."),t()})).catch((function(r){o.h.dispatch(a([])),console.log("erro carregar peso",r),e("error","Erro","Ocorreu um erro ao atualizar seu peso. Tente novamente mais tarde."),t()}))}(l,{weight:parseFloat(String(e.weight).replace(",",".")),measure_date:e.measure_date.format("YYYY-MM-DD"),id:c.id},(function(){m(!1),u(!1)}))},onFinishFailed:function(e){return console.log(e)},labelCol:{span:8},wrapperCol:{span:12},initialValues:c&&c.id?{measure_date:J()(c.measure_date,"YYYY-MM-DD")}:{weight:null,measure_date:J().tz()},children:[(0,D.jsx)(K.Z.Item,{name:"weight",label:"Peso",rules:[{required:!0,message:"Apenas números e vírgula",pattern:/^(?:0|[1-9]\d+|)?(?:,?\d{0,2})?$/}],children:(0,D.jsx)(Q.Z,{suffix:"kg",placeholder:"Peso"})}),(0,D.jsx)(K.Z.Item,{name:"measure_date",label:"Data",rules:[{required:!0,message:"Por favor digite uma data"}],children:(0,D.jsx)(G.Z,{format:"DD/MM/YYYY"})}),(0,D.jsx)(K.Z.Item,{wrapperCol:{offset:8,span:16},children:(0,D.jsx)(H.ZP,{htmlType:"submit",type:"primary",style:{},disabled:!!h,children:h?(0,D.jsx)(I.Z,{}):c&&0==c.id?"Atualizar":"Editar"})})]})})})},ie=t(27782);function ae(e,r){return function(e){if(Array.isArray(e))return e}(e)||function(e,r){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var n,o,i,a,l=[],c=!0,s=!1;try{if(i=(t=t.call(e)).next,0===r){if(Object(t)!==t)return;c=!1}else for(;!(c=(n=i.call(t)).done)&&(l.push(n.value),l.length!==r);c=!0);}catch(e){s=!0,o=e}finally{try{if(!c&&null!=t.return&&(a=t.return(),Object(a)!==a))return}finally{if(s)throw o}}return l}}(e,r)||function(e,r){if(e){if("string"==typeof e)return le(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?le(e,r):void 0}}(e,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function le(e,r){(null==r||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}var ce=function(e){var r=e.notify,t=ae((0,n.useState)(null),2),l=t[0],c=t[1],s=ae((0,n.useState)(!0),2),u=s[0],d=s[1],p=(0,n.useRef)(),h=(0,v.v9)((function(e){return e.weight.all}));return(0,n.useEffect)((function(){!function(e,r){i.Z.get("/weight/all").then((function(t){if("success"==t.data.status){var n=t.data.data;o.h.dispatch(a(f(n))),r(!1)}else o.h.dispatch(a([])),console.log("erro carregar peso",t.data),e("error","Erro","Ocorreu um erro ao encontrar seus dados. Tente novamente mais tarde."),r(!1)})).catch((function(t){o.h.dispatch(a([])),console.log("erro carregar peso",t),e("error","Erro","Ocorreu um erro ao encontrar seus dados. Tente novamente mais tarde."),r(!1)}))}(r,d)}),[]),(0,D.jsx)("div",{children:u?(0,D.jsx)(ie.Z,{}):(0,D.jsxs)(D.Fragment,{children:[h.length>1?(0,D.jsx)(R,{}):h.length>0?(0,D.jsx)(A,{children:"Insira seu peso mais uma vez para ver seu gráfico de progresso"}):(0,D.jsx)(A,{children:"Insira seu peso para acompanhar seu progresso!"}),(0,D.jsx)(P,{onClick:function(){return c({id:0})},children:"Atualizar Peso"}),h.length>0?(0,D.jsx)(N,{setToEdit:c,notify:r}):null,(0,D.jsx)(oe,{open:l,setModalOpen:c,notify:r,formRef:p})]})})}}}]);